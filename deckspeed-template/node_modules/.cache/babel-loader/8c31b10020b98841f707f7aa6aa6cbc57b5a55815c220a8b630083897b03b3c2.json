{"ast":null,"code":"// Real Claude AI integration via backend API\nexport const generateDailyPlan = async userInput => {\n  try {\n    const response = await fetch('/api/generate-plan', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        userInput: userInput.trim()\n      })\n    });\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({}));\n      throw new Error(errorData.error || `HTTP error! status: ${response.status}`);\n    }\n    const plan = await response.json();\n\n    // Validate the plan structure\n    if (!plan.timeBlocks || !Array.isArray(plan.timeBlocks)) {\n      throw new Error('Invalid plan structure received from API');\n    }\n    return plan;\n  } catch (error) {\n    console.error('Error calling Claude API:', error);\n\n    // Fallback plan in case of API failure\n    const fallbackPlan = {\n      id: `fallback-plan-${Date.now()}`,\n      date: new Date().toISOString().split('T')[0],\n      title: `Daily Plan - ${new Date().toLocaleDateString('en-US', {\n        weekday: 'long',\n        month: 'long',\n        day: 'numeric'\n      })}`,\n      summary: \"A basic daily plan created due to temporary service unavailability.\",\n      timeBlocks: [{\n        id: 'morning-1',\n        startTime: '08:00',\n        endTime: '09:00',\n        type: 'break',\n        title: 'Morning Routine',\n        color: '#e0f2fe'\n      }, {\n        id: 'main-work-1',\n        startTime: '09:00',\n        endTime: '12:00',\n        type: 'task',\n        title: 'Focus Time - Priority Tasks',\n        task: {\n          id: 'task-1',\n          title: 'Focus Time - Priority Tasks',\n          description: userInput || 'Work on your main priorities for today',\n          startTime: '09:00',\n          endTime: '12:00',\n          priority: 'high',\n          category: 'work',\n          completed: false,\n          estimatedDuration: 180\n        },\n        color: '#dbeafe'\n      }, {\n        id: 'lunch-1',\n        startTime: '12:00',\n        endTime: '13:00',\n        type: 'meal',\n        title: 'Lunch Break',\n        color: '#fef3c7'\n      }, {\n        id: 'afternoon-1',\n        startTime: '13:00',\n        endTime: '16:00',\n        type: 'task',\n        title: 'Afternoon Activities',\n        task: {\n          id: 'task-2',\n          title: 'Afternoon Activities',\n          description: 'Continue with planned activities and tasks',\n          startTime: '13:00',\n          endTime: '16:00',\n          priority: 'medium',\n          category: 'personal',\n          completed: false,\n          estimatedDuration: 180\n        },\n        color: '#dcfce7'\n      }, {\n        id: 'evening-1',\n        startTime: '18:00',\n        endTime: '19:00',\n        type: 'break',\n        title: 'Evening Routine',\n        color: '#e0e7ff'\n      }],\n      totalTasks: 2,\n      estimatedProductiveHours: 6,\n      priorities: ['Complete main priority tasks'],\n      notes: 'This is a fallback plan. Please check your internet connection and try again for a personalized AI-generated plan.',\n      createdAt: new Date().toISOString()\n    };\n    return fallbackPlan;\n  }\n};","map":{"version":3,"names":["generateDailyPlan","userInput","response","fetch","method","headers","body","JSON","stringify","trim","ok","errorData","json","catch","Error","error","status","plan","timeBlocks","Array","isArray","console","fallbackPlan","id","Date","now","date","toISOString","split","title","toLocaleDateString","weekday","month","day","summary","startTime","endTime","type","color","task","description","priority","category","completed","estimatedDuration","totalTasks","estimatedProductiveHours","priorities","notes","createdAt"],"sources":["D:/unv/zypher-playground/Arrhythmia-classification/deckspeed-template/src/services/planGenerator.ts"],"sourcesContent":["import { DailyPlan } from '../types/Plan';\r\n\r\n// Real Claude AI integration via backend API\r\nexport const generateDailyPlan = async (userInput: string): Promise<DailyPlan> => {\r\n  try {\r\n    const response = await fetch('/api/generate-plan', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({\r\n        userInput: userInput.trim()\r\n      }),\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const errorData = await response.json().catch(() => ({}));\r\n      throw new Error(errorData.error || `HTTP error! status: ${response.status}`);\r\n    }\r\n\r\n    const plan: DailyPlan = await response.json();\r\n    \r\n    // Validate the plan structure\r\n    if (!plan.timeBlocks || !Array.isArray(plan.timeBlocks)) {\r\n      throw new Error('Invalid plan structure received from API');\r\n    }\r\n\r\n    return plan;\r\n  } catch (error) {\r\n    console.error('Error calling Claude API:', error);\r\n    \r\n    // Fallback plan in case of API failure\r\n    const fallbackPlan: DailyPlan = {\r\n      id: `fallback-plan-${Date.now()}`,\r\n      date: new Date().toISOString().split('T')[0],\r\n      title: `Daily Plan - ${new Date().toLocaleDateString('en-US', { \r\n        weekday: 'long', \r\n        month: 'long', \r\n        day: 'numeric' \r\n      })}`,\r\n      summary: \"A basic daily plan created due to temporary service unavailability.\",\r\n      timeBlocks: [\r\n        {\r\n          id: 'morning-1',\r\n          startTime: '08:00',\r\n          endTime: '09:00',\r\n          type: 'break',\r\n          title: 'Morning Routine',\r\n          color: '#e0f2fe'\r\n        },\r\n        {\r\n          id: 'main-work-1',\r\n          startTime: '09:00',\r\n          endTime: '12:00',\r\n          type: 'task',\r\n          title: 'Focus Time - Priority Tasks',\r\n          task: {\r\n            id: 'task-1',\r\n            title: 'Focus Time - Priority Tasks',\r\n            description: userInput || 'Work on your main priorities for today',\r\n            startTime: '09:00',\r\n            endTime: '12:00',\r\n            priority: 'high' as const,\r\n            category: 'work' as const,\r\n            completed: false,\r\n            estimatedDuration: 180\r\n          },\r\n          color: '#dbeafe'\r\n        },\r\n        {\r\n          id: 'lunch-1',\r\n          startTime: '12:00',\r\n          endTime: '13:00',\r\n          type: 'meal',\r\n          title: 'Lunch Break',\r\n          color: '#fef3c7'\r\n        },\r\n        {\r\n          id: 'afternoon-1',\r\n          startTime: '13:00',\r\n          endTime: '16:00',\r\n          type: 'task',\r\n          title: 'Afternoon Activities',\r\n          task: {\r\n            id: 'task-2',\r\n            title: 'Afternoon Activities',\r\n            description: 'Continue with planned activities and tasks',\r\n            startTime: '13:00',\r\n            endTime: '16:00',\r\n            priority: 'medium' as const,\r\n            category: 'personal' as const,\r\n            completed: false,\r\n            estimatedDuration: 180\r\n          },\r\n          color: '#dcfce7'\r\n        },\r\n        {\r\n          id: 'evening-1',\r\n          startTime: '18:00',\r\n          endTime: '19:00',\r\n          type: 'break',\r\n          title: 'Evening Routine',\r\n          color: '#e0e7ff'\r\n        }\r\n      ],\r\n      totalTasks: 2,\r\n      estimatedProductiveHours: 6,\r\n      priorities: ['Complete main priority tasks'],\r\n      notes: 'This is a fallback plan. Please check your internet connection and try again for a personalized AI-generated plan.',\r\n      createdAt: new Date().toISOString()\r\n    };\r\n\r\n    return fallbackPlan;\r\n  }\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}